repos:
  - repo: https://github.com/psf/black
    rev: 25.1.0
    hooks:
      - id: black
        args: ["--line-length", "120"]

  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.12.9
    hooks:
      - id: ruff
        args: ["--fix", "--line-length", "120", "--select", "E,F,I,UP", "--ignore", "E203,E501,UP038"]
      - id: ruff-format
        args: ["--line-length", "120"]

  - repo: https://github.com/pycqa/isort
    rev: 6.0.1
    hooks:
      - id: isort
        args: ["--profile", "black", "--line-length", "120"]

  - repo: https://github.com/PyCQA/autoflake
    rev: v2.3.1
    hooks:
      - id: autoflake
        args:
          ["--in-place", "--remove-all-unused-imports", "--remove-unused-variables", "--ignore-init-module-imports"]

  - repo: https://github.com/pre-commit/mirrors-mypy
    rev: v1.17.1
    hooks:
      - id: mypy
        additional_dependencies: ["types-Pillow", "types-PyYAML", "types-setuptools"]
        args: ["--ignore-missing-imports", "src"]
        pass_filenames: false

  # Optional: run tests on each commit (can be slow; remove if you dislike it)
  - repo: local
    hooks:
      - id: pytest
        name: pytest
        entry: pytest -q
        language: system
        pass_filenames: false
        require_serial: true
